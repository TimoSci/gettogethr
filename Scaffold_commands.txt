rails g scaffold user name email password_digest
rails g scaffold gathering title owner:references
rails g model interest user:references gathering:references


class CreateUsers < ActiveRecord::Migration
  def change
    create_table :users do |t|
      t.string :name
      t.string :email
      t.string :password_digest

      t.timestamps null: false
    end
  end
end



class CreateGatherings < ActiveRecord::Migration
  def change
    create_table :gatherings do |t|
      t.string :title
      t.owner :references, index:true

      t.timestamps null: false
    end
    add_foreign_key :gatherings, :users, column: :owner_id
  end
end


class CreateInterests < ActiveRecord::Migration
  def change
    create_table :interests do |t|
      t.user :references, index: true, foreign_key: true
      t.gathering :references, index: true, foreign_key: true

      t.timestamps null: false
    end
  end
end
